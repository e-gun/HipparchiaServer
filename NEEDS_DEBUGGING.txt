[A] latattemptelision() could use more love

MorphPossibilityObject.getlatinbaseform() needs work per-misceo
MorphPossibilityObject.getlatinbaseform() needs work permixtā, per-misceo
MorphPossibilityObject.getlatinbaseform() needs work praevortēmur, prae-verto
MorphPossibilityObject.getlatinbaseform() needs work dissīderent, dis-sido

[B] similarly
MorphPossibilityObject.getbaseform() is confused ἐνέρριπτεν, ἐν, ἐν-ῥίπτω ['ἐνέρριπτεν', 'ἐν', 'ἐν-ῥίπτω']
MorphPossibilityObject.getbaseform() is confused ἐνέρριψεν, ἐν, ἐν-ῥίπτω ['ἐνέρριψεν', 'ἐν', 'ἐν-ῥίπτω']
MorphPossibilityObject.getbaseform() is confused ἐνέρριψαν, ἐν, ἐν-ῥίπτω ['ἐνέρριψαν', 'ἐν', 'ἐν-ῥίπτω']
MorphPossibilityObject.getbaseform() is confused ἐνέρριψε, ἐν, ἐν-ῥίπτω ['ἐνέρριψε', 'ἐν', 'ἐν-ῥίπτω']

[C] resetsession

resetsession will reload '/' without clearing date range from html (but the range has been reset)
a second click will clear the display
js async timing issue, it seems
irritating to avoid "return redirect(url_for('frontpage'))" which is so simple and easy to call

[D] platform specific bug? Ryzen vs FreeBSD vs threads (vs C-states?)

[resolved? enabled virtualization in the BIOS when playing with bhyve and the problem went away]

workonsimplesearch() (and probably its kin)

a very odd bug in here on a Ryzen 1600x running FreeBSD 11.1: you can search for "mentior" 10x and
somewhere in those trials the search will fail: one of the threads will get stuck in this function
this cannot be reproduced on macOS 10.13.2 with identical versions of python and postgres installed...
this bug is not in Hipparchia? presumably it also does not affect just this function

you will not trigger the bug with the following number of workers set in config.py
    1
    2
    3
    4
at 5 and 6 you get fails: often right away
but then you can do more searches that will work for a while
then you will fail
then you can do more searches on top of this
this will leave you with two zombie threads and two eternally updating polls

PooledCoonections can give some insight into the failure:

success: lots of connections return
    connection returned to pool: cdxuheaxllwh
    connection returned to pool: lntxrxfazsae
    connection returned to pool: ycxhhbbfddjb
    connection returned to pool: plzhaoxekeif
    connection returned to pool: fqdeflurdxda
    connection returned to pool: pouehdobwalh
    connection returned to pool: qtuwhufcywwq
    connection returned to pool: zhqqklbrpcly
    connection returned to pool: ngtlbdtntppq
    connection returned to pool: gtilspjppzdt
    connection returned to pool: mkmentgxkmqc
    connection returned to pool: nnijmjgqylgs
    connection returned to pool: minqxopiocju
    connection returned to pool: sphojeucdudr
    connection returned to pool: eisdjqpreipq
    connection returned to pool: hhjryxvpohsi
    [22/Mar/2018 08:28:05] "GET /executesearch/1521721684476?skg=%CE%A8%CE%B7%CF%86%CE%B9%CF%B2%CE%B1%CE%BC%CE%AD%CE%BD%CE%B7%CF%B2%20%CE%B4%E1%BD%B2%20%CF%84%E1%BF%86%CF%B2%20%CE%B2%CE%BF%CF%85%CE%BB%E1%BF%86%CF%B2 HTTP/1.1" 200 -

freeze: 8 connections return; there are 10 workers...
    connection returned to pool: bomicybcsucs
    connection returned to pool: oonokovlecod
    connection returned to pool: jzeoyhukohml
    connection returned to pool: mlngnennlyif
    connection returned to pool: zkwxcabpeucx
    connection returned to pool: urcwtmarsxns
    connection returned to pool: ufowvlsfrcer
    connection returned to pool: qlscphoqoqpc

the choke seems more likely when you get many results really fast: some sort of problem with the lock on the managed list?


[E] bad search results

[e1] Base Search

[e1a] [lt1017w015_LN_31316]
Sought »quod quae fecere patiuntur«
Searched 1 text and found 1 passages (0.27s)
Sorted by name

[1]   Seneca, Lucius Annaeus iunior, Epistulae Morales ad Lucilium: 39.5.4 	unum possis ignoscere, quod quae fecere patiuntur. Nec

[e1b] Sought »fecere« within 2 words of »patiuntur«
Searched 1 text and found 1 passages (0.12s)
Sorted by name
[1]   Seneca, Lucius Annaeus iunior, Epistulae Morales ad Lucilium: 39.5.4 	unum possis ignoscere, quod quae fecere patiuntur. Nec

[e2] Fail to find "within 2 words" when you lemmatize "facio"

[e2a] [WRONG] Sought all 212 known forms of »facio« within 2 words of all 117 known forms of »patior«
Searched 1 text and found 4 passages (5.26s)
Sorted by name
[1]   Seneca, Lucius Annaeus iunior, Epistulae Morales ad Lucilium: 22.8.2 	habebit perseverantia, si nihil indignum bono viro faciendum
[2]   Seneca, Lucius Annaeus iunior, Epistulae Morales ad Lucilium: 24.5.2 	inposuit. Acerbum est uri: quanto acerbius si id te faciente
[3]   Seneca, Lucius Annaeus iunior, Epistulae Morales ad Lucilium: 74.5.1 	passis tristitiam facit pati posse. Omnium animos mala aliena
[4]   Seneca, Lucius Annaeus iunior, Epistulae Morales ad Lucilium: 76.35.2 	futuris malis, et quae alii diu patiendo levia faciunt hic levia

[e2b] [WRONG] Sought all 212 known forms of »facio« within 2 words of »patiuntur«
Searched 1 text and found 0 passages (2.77s)
Sorted by name

[e2c] [RIGHT] Sought all 117 known forms of »patior« within 2 words of »fecere«
Searched 1 text and found 1 passages (0.89s)
Sorted by name
[1]   Seneca, Lucius Annaeus iunior, Epistulae Morales ad Lucilium: 39.5.4 	unum possis ignoscere, quod quae fecere patiuntur. Nec

[e2d] [RIGHT] Sought all 212 known forms of »facio« within 1 lines of »patiuntur«
Searched 1 text and found 4 passages (1.78s)
Sorted by name
[1]   Seneca, Lucius Annaeus iunior, Epistulae Morales ad Lucilium: 39.5.4 	unum possis ignoscere, quod quae fecere patiuntur. Nec
[2]   Seneca, Lucius Annaeus iunior, Epistulae Morales ad Lucilium: 76.35.2 	futuris malis, et quae alii diu patiendo levia faciunt hic levia
[3]   Seneca, Lucius Annaeus iunior, Epistulae Morales ad Lucilium: 81.19.8 	tingit iis qui patiuntur iniurias quas posse fieri faciendo
[4]   Seneca, Lucius Annaeus iunior, Epistulae Morales ad Lucilium: 92.20.7 	miserum non faciunt, beatum esse patiuntur; nam quibus

the problem is with lemmatization and its interaction with grableadingandlagging()?

If you search "Sought all 212 known forms of »facio« within 2 words of »patiunt«" inside EM 39 you will see:
lt1017w015_LN_31316 patiunt
	[lead] atiuntur nec
	[lag]  quod qua
lt1017w015_LN_31293 patiunt
	[lead] u a
	[lag]  tibi copiam
lt1017w015_LN_31323 patiunt
	[lead] int necessaria
	[lag]  supervacua fueran


Here is what you see if "Sought »fec« within 2 words of »patiunt«"
lt1017w015_LN_31311 patiunt
	[lead] nditas idem
	[lag]  peruenit nimia
lt1017w015_LN_31316 patiunt
	[lead] re patiuntur
	[lag]  quod quae

